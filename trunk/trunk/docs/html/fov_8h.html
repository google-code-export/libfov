<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libfov: /home/greg/projects/libfov/gcode/libfov/trunk/fov/fov.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>/home/greg/projects/libfov/gcode/libfov/trunk/fov/fov.h File Reference</h1><code>#include &lt;stdbool.h&gt;</code><br>
<code>#include &lt;stddef.h&gt;</code><br>

<p>
<a href="fov_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfov__settings__type.html">fov_settings_type</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#499ef04756bb765a5ee86e4bd9ad8f5e">fov_direction_opposite</a>(direction)&nbsp;&nbsp;&nbsp;((<a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a>)(((direction)+4)&amp;0x7))</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a> { <br>
&nbsp;&nbsp;<b>FOV_EAST</b> =  0, 
<b>FOV_NORTHEAST</b>, 
<b>FOV_NORTH</b>, 
<b>FOV_NORTHWEST</b>, 
<br>
&nbsp;&nbsp;<b>FOV_WEST</b>, 
<b>FOV_SOUTHWEST</b>, 
<b>FOV_SOUTH</b>, 
<b>FOV_SOUTHEAST</b>
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#8cacafed4a6fa13d65fa5efe1951fbea">fov_shape_type</a> { <b>FOV_SHAPE_CIRCLE_PRECALCULATE</b>, 
<b>FOV_SHAPE_SQUARE</b>, 
<b>FOV_SHAPE_CIRCLE</b>, 
<b>FOV_SHAPE_OCTAGON</b>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#5b17146119f904a77ee638596d74db3a">fov_corner_peek_type</a> { <b>FOV_CORNER_NOPEEK</b>, 
<b>FOV_CORNER_PEEK</b>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#d207fa0d462e121d0881b375fa046e0d">fov_opaque_apply_type</a> { <b>FOV_OPAQUE_APPLY</b>, 
<b>FOV_OPAQUE_NOAPPLY</b>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#592d7d235ab2e16327c38829c4cb8902">fov_settings_init</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#b0c8e61e713fa251228e60bab6a44cc4">fov_settings_set_shape</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, <a class="el" href="fov_8h.html#8cacafed4a6fa13d65fa5efe1951fbea">fov_shape_type</a> value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#50026896465a35b6caca7bbf7567d3a4">fov_settings_set_corner_peek</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, <a class="el" href="fov_8h.html#5b17146119f904a77ee638596d74db3a">fov_corner_peek_type</a> value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#ed55425207780d1d7b43c2a8cc43218b">fov_settings_set_opaque_apply</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, <a class="el" href="fov_8h.html#d207fa0d462e121d0881b375fa046e0d">fov_opaque_apply_type</a> value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#800724556e2313995ffa71c114a371b1">fov_settings_set_opacity_test_function</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, bool(*f)(void *map, int x, int y))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#292ba0db435b9a802979df9a9b54914b">fov_settings_set_apply_lighting_function</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, void(*f)(void *map, int x, int y, int dx, int dy, void *src))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#f1fdaa30a2450f7031a74d0617413f78">fov_settings_free</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#d254e854f2cadb90a74d91c6a744028c">fov_circle</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, void *map, void *source, int source_x, int source_y, unsigned radius)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fov_8h.html#a9ed84ecbd2888354ec601bb03a6544e">fov_beam</a> (<a class="el" href="structfov__settings__type.html">fov_settings_type</a> *settings, void *map, void *source, int source_x, int source_y, unsigned radius, <a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a> direction, float angle)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Field-of-view algorithm for dynamically casting light/shadow on a low resolution 2D raster. <hr><h2>Define Documentation</h2>
<a class="anchor" name="499ef04756bb765a5ee86e4bd9ad8f5e"></a><!-- doxytag: member="fov.h::fov_direction_opposite" ref="499ef04756bb765a5ee86e4bd9ad8f5e" args="(direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fov_direction_opposite          </td>
          <td>(</td>
          <td class="paramtype">direction&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((<a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a>)(((direction)+4)&amp;0x7))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The opposite direction to that given. 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="5b17146119f904a77ee638596d74db3a"></a><!-- doxytag: member="fov.h::fov_corner_peek_type" ref="5b17146119f904a77ee638596d74db3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fov_8h.html#5b17146119f904a77ee638596d74db3a">fov_corner_peek_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Values for the corner peek setting. 
</div>
</div><p>
<a class="anchor" name="c68306dc9b34022ce63aea412f871677"></a><!-- doxytag: member="fov.h::fov_direction_type" ref="c68306dc9b34022ce63aea412f871677" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Eight-way directions. 
</div>
</div><p>
<a class="anchor" name="d207fa0d462e121d0881b375fa046e0d"></a><!-- doxytag: member="fov.h::fov_opaque_apply_type" ref="d207fa0d462e121d0881b375fa046e0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fov_8h.html#d207fa0d462e121d0881b375fa046e0d">fov_opaque_apply_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Values for the opaque apply setting. 
</div>
</div><p>
<a class="anchor" name="8cacafed4a6fa13d65fa5efe1951fbea"></a><!-- doxytag: member="fov.h::fov_shape_type" ref="8cacafed4a6fa13d65fa5efe1951fbea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fov_8h.html#8cacafed4a6fa13d65fa5efe1951fbea">fov_shape_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Values for the shape setting. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a9ed84ecbd2888354ec601bb03a6544e"></a><!-- doxytag: member="fov.h::fov_beam" ref="a9ed84ecbd2888354ec601bb03a6544e" args="(fov_settings_type *settings, void *map, void *source, int source_x, int source_y, unsigned radius, fov_direction_type direction, float angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_beam           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>source_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>source_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fov_8h.html#c68306dc9b34022ce63aea412f871677">fov_direction_type</a>&nbsp;</td>
          <td class="paramname"> <em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>angle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate a field of view from source at (x,y), pointing in the given direction and with the given angle. The larger the angle, the wider, "less focused" the beam. Each side of the line pointing in the direction from the source will be half the angle given such that the angle specified will be represented on the raster.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>Pointer to map data structure to be passed to callbacks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>Pointer to data structure holding source of light. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source_x</em>&nbsp;</td><td>x-axis coordinate from which to start. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source_y</em>&nbsp;</td><td>y-axis coordinate from which to start. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>radius</em>&nbsp;</td><td>Euclidean distance from (x,y) after which to stop. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>One of eight directions the beam of light can point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>angle</em>&nbsp;</td><td>The angle at the base of the beam of light, in degrees. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d254e854f2cadb90a74d91c6a744028c"></a><!-- doxytag: member="fov.h::fov_circle" ref="d254e854f2cadb90a74d91c6a744028c" args="(fov_settings_type *settings, void *map, void *source, int source_x, int source_y, unsigned radius)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_circle           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>source_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>source_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>radius</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate a full circle field of view from a source at (x,y).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>Pointer to map data structure to be passed to callbacks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>Pointer to data structure holding source of light. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source_x</em>&nbsp;</td><td>x-axis coordinate from which to start. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source_y</em>&nbsp;</td><td>y-axis coordinate from which to start. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>radius</em>&nbsp;</td><td>Euclidean distance from (x,y) after which to stop. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f1fdaa30a2450f7031a74d0617413f78"></a><!-- doxytag: member="fov.h::fov_settings_free" ref="f1fdaa30a2450f7031a74d0617413f78" args="(fov_settings_type *settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free any memory that may have been cached in the settings structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="592d7d235ab2e16327c38829c4cb8902"></a><!-- doxytag: member="fov.h::fov_settings_init" ref="592d7d235ab2e16327c38829c4cb8902" args="(fov_settings_type *settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set all the default options. You must call this option when you create a new settings data structure.<p>
These settings are the defaults used:<p>
<ul>
<li>shape: FOV_SHAPE_CIRCLE_PRECALCULATE</li><li>corner_peek: FOV_CORNER_NOPEEK</li><li>opaque_apply: FOV_OPAQUE_APPLY</li></ul>
<p>
Callbacks still need to be set up after calling this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="292ba0db435b9a802979df9a9b54914b"></a><!-- doxytag: member="fov.h::fov_settings_set_apply_lighting_function" ref="292ba0db435b9a802979df9a9b54914b" args="(fov_settings_type *settings, void(*f)(void *map, int x, int y, int dx, int dy, void *src))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_set_apply_lighting_function           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *map, int x, int y, int dx, int dy, void *src)&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the function used to apply lighting to a map tile.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The function called to apply lighting to a map tile. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="50026896465a35b6caca7bbf7567d3a4"></a><!-- doxytag: member="fov.h::fov_settings_set_corner_peek" ref="50026896465a35b6caca7bbf7567d3a4" args="(fov_settings_type *settings, fov_corner_peek_type value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_set_corner_peek           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fov_8h.html#5b17146119f904a77ee638596d74db3a">fov_corner_peek_type</a>&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<em>NOT YET IMPLEMENTED</em>.<p>
Set whether sources will peek around corners.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>One of the following values:</td></tr>
  </table>
</dl>
<ul>
<li>FOV_CORNER_PEEK <b></b>(default): Renders: <div class="fragment"><pre class="fragment">
  ........
  ........
  ........
  ..@#    
  ...#    
</pre></div></li><li>FOV_CORNER_NOPEEK: Renders: <div class="fragment"><pre class="fragment">
  ......
  .....
  ....
  ..@#
  ...#
</pre></div> </li></ul>

</div>
</div><p>
<a class="anchor" name="800724556e2313995ffa71c114a371b1"></a><!-- doxytag: member="fov.h::fov_settings_set_opacity_test_function" ref="800724556e2313995ffa71c114a371b1" args="(fov_settings_type *settings, bool(*f)(void *map, int x, int y))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_set_opacity_test_function           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *map, int x, int y)&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the function used to test whether a map tile is opaque.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The function called to test whether a map tile is opaque. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ed55425207780d1d7b43c2a8cc43218b"></a><!-- doxytag: member="fov.h::fov_settings_set_opaque_apply" ref="ed55425207780d1d7b43c2a8cc43218b" args="(fov_settings_type *settings, fov_opaque_apply_type value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_set_opaque_apply           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fov_8h.html#d207fa0d462e121d0881b375fa046e0d">fov_opaque_apply_type</a>&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Whether to call the apply callback on opaque tiles.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>One of the following values:</td></tr>
  </table>
</dl>
<ul>
<li>FOV_OPAQUE_APPLY <b></b>(default): Call apply callback on opaque tiles.</li><li>FOV_OPAQUE_NOAPPLY: Do not call the apply callback on opaque tiles. </li></ul>

</div>
</div><p>
<a class="anchor" name="b0c8e61e713fa251228e60bab6a44cc4"></a><!-- doxytag: member="fov.h::fov_settings_set_shape" ref="b0c8e61e713fa251228e60bab6a44cc4" args="(fov_settings_type *settings, fov_shape_type value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fov_settings_set_shape           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfov__settings__type.html">fov_settings_type</a> *&nbsp;</td>
          <td class="paramname"> <em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fov_8h.html#8cacafed4a6fa13d65fa5efe1951fbea">fov_shape_type</a>&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the shape of the field of view.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>Pointer to data structure containing settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>One of the following values, where R is the radius:</td></tr>
  </table>
</dl>
<ul>
<li>FOV_SHAPE_CIRCLE_PRECALCULATE <b></b>(default): Limit the FOV to a circle with radius R by precalculating, which consumes more memory at the rate of 4*(R+2) bytes per R used in calls to fov_circle. Each radius is only calculated once so that it can be used again. Use fov_free() to free this precalculated data's memory.</li></ul>
<p>
<ul>
<li>FOV_SHAPE_CIRCLE: Limit the FOV to a circle with radius R by calculating on-the-fly.</li></ul>
<p>
<ul>
<li>FOV_SHAPE_OCTOGON: Limit the FOV to an octogon with maximum radius R.</li></ul>
<p>
<ul>
<li>FOV_SHAPE_SQUARE: Limit the FOV to an R*R square. </li></ul>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 9 13:47:49 2008 for libfov by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
